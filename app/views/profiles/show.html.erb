<div class="flex flex-col gap-4 p-4 bg-white rounded-lg shadow-md">
  <h1 class="text-2xl font-bold text-gray-800">Hello <%= @profile.name %></h1>
  <div>
    <h2>Followers: <%= @profile.followers.count %></h2>
    <h2>Following: <%= @profile.followed_profiles.count %></h2>
  </div>
  <div>
    <% if current_user.profile.followed_profiles.include?(@profile) %>
      <%= link_to 'Unfollow', profile_follow_path(@profile), data:{
        turbo_method: :delete,
      }, 
      class: "btn btn-danger" %>
    <% else %>
      <%= button_to 'Follow', profile_follow_path(@profile), method: :post, class: "btn btn-primary" %>
    <% end %>
  </div>
  <p class="text-gray-600">
    <strong>Email:</strong> <%= @profile.email || 'Not provided' %>
  </p>
  <p class="text-gray-600">
    <strong>Contact Info:</strong> <%= @profile.contact_info || 'Not provided' %>
  </p>
  <p class="text-gray-600">
    <strong>City:</strong> <%= @profile.city || 'Not provided' %>
  </p>
  <p class="text-gray-600">
    <strong>Headline:</strong> <%= @profile.headline || 'Not provided' %>
  </p>
  <div class="mb-4">
    <strong>Profile Picture:</strong>
    <div class="mt-2">
      <% if @profile.profile_pic.attached? %>
        <%= image_tag(@profile.profile_pic, style: "width: 200px", class: "rounded-md shadow-lg") %>
      <% else %>
        <p class="text-gray-500">No profile picture uploaded.</p>
      <% end %>
    </div>
  </div>
  <h2 class="text-xl font-semibold text-gray-700 mt-4">Social Media Links</h2>
  <ul class="list-disc ml-6 mt-2">
    <% @profile.social_media_links.each do |link| %>
      <li class="text-gray-600">
        <% if link.present? %>
          <strong>Link:</strong> <%= link_to link, link, target: "_blank", class: "text-blue-500 hover:underline" %>
        <% else %>
          <strong>Link:</strong> Not provided
        <% end %>
      </li>
    <% end %>
  </ul>
  <h2 class="text-xl font-semibold text-gray-700 mt-4">Skill Sets</h2>
  <div class="mt-2">
    <% @profile.skill_sets.each do |skill| %>
      <p class="text-gray-600">â€¢ <%= skill %></p>
    <% end %>
  </div>
  <h2 class="text-xl font-semibold text-gray-700 mt-4">Education</h2>
  <ul class="list-disc ml-6 mt-2">
    <% @profile.education.each do |edu| %>
      <li class="text-gray-600 mb-2">
        <% if edu["degree"].present? %>
          <strong>Degree:</strong> <%= edu["degree"] %>
        <% else %>
          <strong>Degree:</strong> Not provided
        <% end %>
        <% if edu["institution"].present? %>
          <strong>Institution:</strong> <%= edu["institution"] %>
        <% else %>
          <strong>Institution:</strong> Not provided
        <% end %>
        <% if edu["graduation_date"].present? %>
          <strong>Graduation Date:</strong> <%= edu["graduation_date"] %>
        <% else %>
          <strong>Graduation Date:</strong> Not provided
        <% end %>
      </li>
    <% end %>
  </ul>
  <h2 class="text-xl font-semibold text-gray-700 mt-4">Work Experience</h2>
  <ul class="list-disc ml-6 mt-2">
    <% @profile.work_experience.each do |exp| %>
      <li class="text-gray-600 mb-2">
        <% if exp["position"].present? %>
          <strong>Position:</strong> <%= exp["position"] %>
        <% else %>
          <strong>Position:</strong> Not provided
        <% end %>
        <% if exp["company"].present? %>
          <strong>Company:</strong> <%= exp["company"] %>
        <% else %>
          <strong>Company:</strong> Not provided
        <% end %>
        <% if exp["responsibilities"].present? %>
          <strong>Responsibilities:</strong> <%= exp["responsibilities"] %>
        <% else %>
          <strong>Responsibilities:</strong> Not provided
        <% end %>
        <% if exp["start_date"].present? %>
          <strong>Start Date:</strong> <%= exp["start_date"] %>
        <% else %>
          <strong>Start Date:</strong> Not provided
        <% end %>
        <% if exp["end_date"].present? %>
          <strong>End Date:</strong> <%= exp["end_date"] %>
        <% else %>
          <strong>End Date:</strong> Not provided
        <% end %>
      </li>
    <% end %>
  </ul>
  <div>
    <h2 class="text-xl font-semibold text-gray-700 mt-4">Projects</h2>
    <h2>Projects</h2>
    <% if @profile.user == current_user%>
      <%= link_to 'Add New Project', new_profile_project_path(@profile), class: "btn btn-primary" %>
    <% end%>
    <% if @profile.projects.any? %>
      <ul>
        <% @profile.projects.each do |project| %>
          <li>
            <strong>Title:</strong> <%= link_to  project.title, profile_project_path(@profile, project) %><br>
            <strong>Description:</strong> <%= project.description %><br>
            <% if @profile.user == current_user%>
              <%= link_to 'Edit', edit_profile_project_path(@profile, project), class: "btn btn-secondary" %>
              <%= link_to 'Delete', profile_project_path(@profile, project), data:{
            turbo_method: :delete,
            turbo_confirm: "Are you sure"
          },
          class: "btn btn-danger" %>
            <% end %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-gray-500">No projects added yet.</p>
    <% end %>
  </div>
  <% if @profile.user == current_user %>
    <div class="mt-4">
      <%= link_to 'Edit Profile', edit_profile_path(@profile), class: "text-blue-600 hover:underline" %>
    </div>
  <% end %>
</div>
